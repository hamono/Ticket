(this.webpackJsonpticket=this.webpackJsonpticket||[]).push([[0],{77:function(e,t,n){},78:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),i=n(23),r=n.n(i),s=(n(77),n(35)),l=n(25),o=n.n(l),d=n(28),u=n(68),j=n(93),b=(n(78),n(4));function p(e){var t=e.phoneNumber,n=e.email,c=e.handleEmailChange,a=e.handleNumChange;return Object(b.jsxs)("div",{className:"buyer-box",children:[Object(b.jsxs)("div",{className:"buyer-item",children:[Object(b.jsx)("div",{className:"buyer-title",children:"\u624b\u673a\u53f7"}),Object(b.jsx)(j.a,{value:t,onChange:a,placeholder:"\u8bf7\u8f93\u5165\u60a8\u7684\u624b\u673a\u53f7\uff0c\u5c06\u7528\u4e8e\u63a5\u6536\u51fa\u7968\u77ed\u4fe1",type:"number"})]}),Object(b.jsxs)("div",{className:"buyer-item",children:[Object(b.jsx)("div",{className:"buyer-title",children:"\u7535\u5b50\u90ae\u4ef6"}),Object(b.jsx)(j.a,{value:n,onChange:c,placeholder:"\u8bf7\u8f93\u5165\u60a8\u7684\u7535\u5b50\u90ae\u7bb1\uff0c\u5c06\u7528\u4e8e\u63a5\u6536\u51fa\u7968\u90ae\u4ef6",type:"email"})]})]})}n(82);function v(e){var t=e.title,n=e.content;return Object(b.jsxs)("div",{className:"options-box",children:[Object(b.jsx)("div",{className:"options-title",children:t}),n]})}var h=n(94);n(83);function O(e){var t=e.value,n=e.name,c=e.id,a=e.handleIdChange,i=e.handleNameChange,r=e.handleValueChange;return Object(b.jsxs)("div",{className:"part-box",children:[Object(b.jsxs)("div",{className:"part-item",children:[Object(b.jsx)("div",{className:"part-title",children:"\u59d3\u540d"}),Object(b.jsx)(j.a,{onChange:i,value:n,placeholder:"\u8bf7\u8f93\u5165\u60a8\u7684\u771f\u5b9e\u59d3\u540d"})]}),Object(b.jsxs)("div",{className:"part-item",children:[Object(b.jsx)("div",{className:"part-title",children:"\u7701\u4efd\u8bc1\u53f7"}),Object(b.jsx)(j.a,{onChange:a,value:c,placeholder:"\u7531\u4e8e\u73b0\u573a\u5b89\u4fdd\u9700\u8981\uff0c\u8bf7\u8f93\u5165\u60a8\u7684\u8eab\u4efd\u8bc1\u53f7"})]}),Object(b.jsxs)("div",{className:"part-item",children:[Object(b.jsx)("div",{className:"part-title",children:"\u6027\u522b"}),Object(b.jsxs)(h.a.Group,{onChange:r,value:t,children:[Object(b.jsx)(h.a,{value:"\u7537",children:"\u7537"}),Object(b.jsx)(h.a,{value:"\u5973",children:"\u5973"}),Object(b.jsx)(h.a,{value:"\u5176\u4ed6",children:"\u5176\u4ed6"}),Object(b.jsx)(h.a,{value:"\u4e0d\u613f\u900f\u9732",children:"\u4e0d\u613f\u900f\u9732"})]})]})]})}var x=n(69);n(84);function m(e){var t=e.ticketNum,n=e.price,c=e.handleSubmit;return Object(b.jsxs)("div",{className:"sum-box",children:[Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"sum-ticket",children:["\u5171 ",Object(b.jsx)("span",{children:t})," \u5f20\u7968"]}),Object(b.jsxs)("div",{className:"sum-price",children:["\u5408\u8ba1 ",Object(b.jsx)("span",{children:n})," \u5143"]})]}),Object(b.jsx)(x.a,{size:"large",type:"primary",onClick:c,children:"\u7acb\u5373\u652f\u4ed8"})]})}n(85);var f=n(95),g=n(96);function k(e){var t=e.add,n=e.less,c=e.count;return Object(b.jsxs)("div",{className:"count-box",children:[Object(b.jsx)(x.a,{style:{borderRadius:"5px 0 0 5px",position:"relative",left:"2px",zIndex:1},disabled:0===c,onClick:n,children:Object(b.jsx)(f.a,{})}),Object(b.jsx)(x.a,{style:{borderLeft:"0",borderRight:"0",width:"50px",color:"black",backgroundColor:"white",cursor:"default"},disabled:!0,children:c}),Object(b.jsx)(x.a,{style:{borderRadius:"0 5px 5px 0",position:"relative",right:"2px"},onClick:t,children:Object(b.jsx)(g.a,{})})]})}n(86);function N(e){var t=e.title,n=e.des,c=e.price,a=e.tips,i=e.split,r=e.counterPorps;return Object(b.jsxs)("div",{className:"ticket-box",style:i?{borderBottom:"1px solid rgba(212, 212, 212,0.5)"}:{},children:[Object(b.jsxs)("div",{className:"ticket-details",children:[Object(b.jsx)("div",{className:"ticket-title",children:t}),Object(b.jsx)("div",{className:"ticket-des",children:n}),Object(b.jsxs)("div",{className:"ticket-price",children:[c+" \u5143"," ",Object(b.jsx)("span",{className:"ticket-tips",children:a})]})]}),Object(b.jsx)(k,Object(s.a)({},r))]})}var y=n(17);function C(){var e=Object(c.useState)(0),t=Object(y.a)(e,2),n=t[0],a=t[1];return{less:function(){a(n-1)},add:function(){a(n+1)},count:n}}function S(e){return T.apply(this,arguments)}function T(){return(T=Object(d.a)(o.a.mark((function e(t){var n,c,a,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,c=t.method,a=t.body,e.next=3,fetch(n,{method:c,headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(a)});case 3:return e.next=5,e.sent.json();case 5:if(200!==(i=e.sent).status){e.next=10;break}return e.abrupt("return",i.data);case 10:throw new Error(i.msg);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){var e=Object(c.useState)(""),t=Object(y.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(""),r=Object(y.a)(i,2),s=r[0],l=r[1],o=Object(c.useState)(""),d=Object(y.a)(o,2),u=d[0],j=d[1];return{value:n,name:s,id:u,handleIdChange:function(e){j(e.target.value)},handleNameChange:function(e){l(e.target.value)},handleValueChange:function(e){a(e.target.value)}}}n(87);var E=n(40);n(88);function P(){return Object(b.jsxs)("div",{className:"loading",children:[Object(b.jsx)(E.a,{size:100}),Object(b.jsx)("div",{children:"\u6570\u636e\u52a0\u8f7d\u4e2d..."})]})}var F=function(){var e=C(),t=C(),n=C(),a=function(){var e=Object(c.useState)(""),t=Object(y.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(""),r=Object(y.a)(i,2),s=r[0],l=r[1];return{phoneNumber:n,email:s,handleNumChange:function(e){a(e.target.value)},handleEmailChange:function(e){l(e.target.value)}}}(),i=w(),r=w(),l=function(e,t,n){var a=Object(c.useState)(),i=Object(y.a)(a,2),r=i[0],s=i[1],l=Object(c.useState)(!1),j=Object(y.a)(l,2),b=j[0],p=j[1],v=Object(c.useState)(),h=Object(y.a)(v,2),O=h[0],x=h[1],m=Object(c.useState)(),f=Object(y.a)(m,2),g=f[0],k=f[1],N=function(){var e=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(!0),e.next=4,S({url:"/api/data.json",method:"GET"});case 4:t=e.sent,s(t),p(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),u.b.error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){N()}),[]),Object(c.useEffect)((function(){C()}));var C=Object(c.useCallback)((function(){if(!b&&r){var c=e*(null===r||void 0===r?void 0:r.remoteTicket.price)+t*(null===r||void 0===r?void 0:r.sponsor.price)+n*(null===r||void 0===r?void 0:r.standardTicket.price),a=e+t+n;x(c),k(a)}}),[b,e,r,t,n]);return{initData:r,loading:b,price:O,sum:g}}(e.count,t.count,n.count),j=l.initData,h=l.loading,x=l.price,f=l.sum,g=function(){var c=Object(d.a)(o.a.mark((function c(){return o.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return u.b.loading({key:"loading",content:"\u6b63\u5728\u63d0\u4ea4\u8ba2\u5355..."}),c.next=3,S({url:"/api/upload/",method:"POST",body:{remoteTicket:e.count,sponsor:t.count,standardTicket:n.count,buyer:{phoneNumber:a.phoneNumber,email:a.email},participant:[{name:i.name,id:i.id,gender:i.value},{name:r.name,id:r.id,gender:r.value}]}});case 3:u.b.destroy("loading");case 4:case"end":return c.stop()}}),c)})));return function(){return c.apply(this,arguments)}}(),k=h?null:Object(b.jsxs)("div",{children:[Object(b.jsx)(N,{counterPorps:e,title:"\u8fdc\u7a0b\u652f\u6301\u7968",des:null===j||void 0===j?void 0:j.remoteTicket.des,price:null===j||void 0===j?void 0:j.remoteTicket.price,tips:null===j||void 0===j?void 0:j.remoteTicket.tips,split:!0}),Object(b.jsx)(N,{counterPorps:t,title:"\u8d5e\u52a9\u5546",des:null===j||void 0===j?void 0:j.sponsor.des,price:null===j||void 0===j?void 0:j.sponsor.price,tips:null===j||void 0===j?void 0:j.sponsor.tips,split:!0}),Object(b.jsx)(N,{counterPorps:n,title:"\u6807\u51c6\u7968",des:null===j||void 0===j?void 0:j.standardTicket.des,price:null===j||void 0===j?void 0:j.standardTicket.price,tips:null===j||void 0===j?void 0:j.standardTicket.tips})]});return h?Object(b.jsx)(P,{}):Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(v,{title:"\u9009\u62e9\u7968\u79cd",content:k}),Object(b.jsx)(v,{title:"\u8d2d\u7968\u4eba\u4fe1\u606f",content:Object(b.jsx)(p,Object(s.a)({},a))}),Object(b.jsx)(v,{title:"\u53c2\u4e0e\u8005\u4fe1\u606f\uff08\u8d5e\u52a9\u5546\u7968\u7b2c1\u4f4d\uff09",content:Object(b.jsx)(O,Object(s.a)({},i))}),Object(b.jsx)(v,{title:"\u53c2\u4e0e\u8005\u4fe1\u606f\uff08\u8d5e\u52a9\u5546\u7968\u7b2c2\u4f4d\uff09",content:Object(b.jsx)(O,Object(s.a)({},r))}),Object(b.jsx)(m,{handleSubmit:g,ticketNum:f,price:x})]})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,98)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),i(e),r(e)}))},z=n(66),D=n(67),B=n(72),J=n(70),L=function(e){Object(B.a)(n,e);var t=Object(J.a)(n);function n(){var e;Object(z.a)(this,n);for(var c=arguments.length,a=new Array(c),i=0;i<c;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={error:!1},e}return Object(D.a)(n,[{key:"render",value:function(){var e=this.props,t=e.fallback,n=e.children;return this.state.error?t:n}}],[{key:"getDerivedStateFromError",value:function(){return{error:!0}}}]),n}(a.a.Component),R=n(97);n(90);function A(){return Object(b.jsxs)("div",{className:"error",children:[Object(b.jsx)(R.a,{size:100}),Object(b.jsx)("div",{children:"\u9875\u9762\u51fa\u9519\u5566"})]})}r.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(L,{fallback:Object(b.jsx)(A,{}),children:Object(b.jsx)(F,{})})}),document.getElementById("root")),I()}},[[91,1,2]]]);
//# sourceMappingURL=main.fd4393d1.chunk.js.map