{"version":3,"sources":["components/Buyer/index.tsx","components/Options/index.tsx","components/Participant/index.tsx","components/Summary/index.tsx","components/Counter/index.tsx","components/Ticket/index.tsx","hooks/useCounter.ts","hooks/useFetch.ts","hooks/useParticpant.ts","views/LoadingPage/index.tsx","views/App.tsx","hooks/useBuyer.ts","views/useApp.ts","reportWebVitals.ts","views/ErrorBoundary.tsx","views/ErrorPage/index.tsx","index.tsx"],"names":["Buyer","phoneNumber","email","handleEmailChange","handleNumChange","className","value","onChange","placeholder","type","Options","title","content","Participant","name","id","handleIdChange","handleNameChange","handleValueChange","Group","Summary","ticketNum","price","handleSubmit","size","onClick","Counter","add","less","count","style","borderRadius","position","left","zIndex","disabled","MinusOutlined","borderLeft","borderRight","width","color","backgroundColor","cursor","right","PlusOutlined","Ticket","des","tips","split","counterPorps","borderBottom","useCounter","useState","setCount","useFetch","a","url","method","body","fetch","headers","Headers","JSON","stringify","json","data","status","Error","msg","useParticpant","setValue","setName","setId","e","target","Loading","LoadingOutlined","App","remoteProps","sponsorProps","standardProps","buyerPorps","setNumber","setEmail","useBuyer","participantProps1","participantProps2","reCount","spCount","stCount","initData","setData","loading","setLoading","setPrice","sum","setSum","getData","message","error","useEffect","handlePrice","useCallback","temp1","remoteTicket","sponsor","standardTicket","temp2","useApp","key","buyer","participant","gender","destroy","tickets","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ErrorBoundary","state","this","props","fallback","children","React","Component","ErrorPage","FrownOutlined","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fd4393d1.chunk.js","sourcesContent":["import { Input } from \"antd\";\r\nimport React from \"react\";\r\nimport \"./style.css\";\r\n\r\nexport interface BuyerPorps {\r\n  phoneNumber: string;\r\n  email: string;\r\n  handleNumChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\r\n  handleEmailChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\r\n}\r\n\r\nexport default function Buyer({\r\n  phoneNumber,\r\n  email,\r\n  handleEmailChange,\r\n  handleNumChange,\r\n}: BuyerPorps) {\r\n  return (\r\n    <div className=\"buyer-box\">\r\n      <div className=\"buyer-item\">\r\n        <div className=\"buyer-title\">手机号</div>\r\n        <Input\r\n          value={phoneNumber}\r\n          onChange={handleNumChange}\r\n          placeholder=\"请输入您的手机号，将用于接收出票短信\"\r\n          type=\"number\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"buyer-item\">\r\n        <div className=\"buyer-title\">电子邮件</div>\r\n        <Input\r\n          value={email}\r\n          onChange={handleEmailChange}\r\n          placeholder=\"请输入您的电子邮箱，将用于接收出票邮件\"\r\n          type=\"email\"\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./style.css\"\r\n\r\nexport default function Options({\r\n  title,\r\n  content,\r\n}: {\r\n  title: string;\r\n  content: React.ReactNode;\r\n}) {\r\n  return <div className='options-box'>\r\n    <div className=\"options-title\">{title}</div>\r\n    {content}\r\n  </div>\r\n}\r\n","import { Input, Radio, RadioChangeEvent } from \"antd\";\r\nimport React from \"react\";\r\nimport \"./style.css\";\r\n\r\nexport interface ParticipantProps {\r\n  value: string;\r\n  name: string;\r\n  id: string;\r\n  handleNameChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\r\n  handleIdChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\r\n  handleValueChange: (e: RadioChangeEvent) => void;\r\n}\r\n\r\nexport default function Participant({\r\n  value,\r\n  name,\r\n  id,\r\n  handleIdChange,\r\n  handleNameChange,\r\n  handleValueChange\r\n}: ParticipantProps) {\r\n  return (\r\n    <div className=\"part-box\">\r\n      <div className=\"part-item\">\r\n        <div className=\"part-title\">姓名</div>\r\n        <Input\r\n          onChange={handleNameChange}\r\n          value={name}\r\n          placeholder=\"请输入您的真实姓名\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"part-item\">\r\n        <div className=\"part-title\">省份证号</div>\r\n        <Input\r\n          onChange={handleIdChange}\r\n          value={id}\r\n          placeholder=\"由于现场安保需要，请输入您的身份证号\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"part-item\">\r\n        <div className=\"part-title\">性别</div>\r\n        <Radio.Group onChange={handleValueChange} value={value}>\r\n          <Radio value={\"男\"}>男</Radio>\r\n          <Radio value={\"女\"}>女</Radio>\r\n          <Radio value={\"其他\"}>其他</Radio>\r\n          <Radio value={\"不愿透露\"}>不愿透露</Radio>\r\n        </Radio.Group>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { Button } from \"antd\";\r\nimport React from \"react\";\r\nimport \"./style.css\";\r\n\r\nexport default function Summary({\r\n  ticketNum,\r\n  price,\r\n  handleSubmit\r\n}: {\r\n  ticketNum?: number;\r\n  price?: number;\r\n  handleSubmit:()=>void;\r\n}) {\r\n  return (\r\n    <div className=\"sum-box\">\r\n      <div>\r\n        <div className=\"sum-ticket\">\r\n          共 <span>{ticketNum}</span> 张票\r\n        </div>\r\n        <div className=\"sum-price\">\r\n          合计 <span>{price}</span> 元\r\n        </div>\r\n      </div>\r\n      <Button size=\"large\" type=\"primary\" onClick={handleSubmit}>\r\n        立即支付\r\n      </Button>\r\n    </div>\r\n  );\r\n}\r\n","import { Button } from \"antd\";\r\nimport \"./style.css\";\r\nimport { MinusOutlined, PlusOutlined } from \"@ant-design/icons\";\r\n\r\nexport interface CounterProps{\r\n  add:() => void;\r\n  less:()=>void;\r\n  count:number;\r\n}\r\n\r\nexport default function Counter({add,less,count}:CounterProps) {\r\n\r\n  return (\r\n    <div className=\"count-box\">\r\n      <Button\r\n        style={{\r\n          borderRadius: \"5px 0 0 5px\",\r\n          position: \"relative\",\r\n          left: \"2px\",\r\n          zIndex: 1,\r\n        }}\r\n        disabled={count===0}\r\n        onClick={less}\r\n      >\r\n        <MinusOutlined />\r\n      </Button>\r\n      <Button\r\n        style={{\r\n          borderLeft: \"0\",\r\n          borderRight: \"0\",\r\n          width: \"50px\",\r\n          color: \"black\",\r\n          backgroundColor: \"white\",\r\n          cursor: \"default\",\r\n        }}\r\n        disabled={true}\r\n      >\r\n        {count}\r\n      </Button>\r\n      <Button\r\n        style={{\r\n          borderRadius: \"0 5px 5px 0\",\r\n          position: \"relative\",\r\n          right: \"2px\",\r\n        }}\r\n        onClick={add}\r\n      >\r\n        <PlusOutlined />\r\n      </Button>\r\n    </div>\r\n  );\r\n}\r\n","import Counter, { CounterProps } from \"../Counter\"\r\nimport \"./style.css\"\r\n\r\nexport default function Ticket({\r\n  title,\r\n  des,\r\n  price,\r\n  tips,\r\n  split,\r\n  counterPorps\r\n}: {\r\n  title: string;\r\n  des?: string;\r\n  price?: number;\r\n  counterPorps:CounterProps;\r\n  tips?: string;\r\n  split?:boolean;\r\n}) {\r\n  return <div className=\"ticket-box\" style={split?{borderBottom:\"1px solid rgba(212, 212, 212,0.5)\"}:{}}>\r\n    <div className=\"ticket-details\">\r\n      <div className=\"ticket-title\">{title}</div>\r\n      <div className=\"ticket-des\">{des}</div>\r\n      <div className=\"ticket-price\">{price+\" 元\"} <span className=\"ticket-tips\">{tips}</span></div>\r\n    </div>\r\n    <Counter {...counterPorps}/>\r\n  </div>\r\n}\r\n","import { useState } from \"react\";\r\n\r\nexport default function useCounter(){\r\n  const [count, setCount] = useState(0);\r\n\r\n  const add=()=>{\r\n    setCount(count+1);\r\n  }\r\n\r\n  const less=()=>{\r\n    setCount(count-1);\r\n  }\r\n\r\n  return {\r\n    less,add,count\r\n  }\r\n}","export default async function useFetch<R=any,T=any>({\r\n  url,\r\n  method,\r\n  body,\r\n}: {\r\n  url: string;\r\n  method: string;\r\n  body?: T;\r\n}) {\r\n  const data = await (\r\n    await fetch(url, {\r\n      method: method,\r\n      headers: new Headers({\r\n        \"Content-Type\": \"application/json\",\r\n      }),\r\n      body: JSON.stringify(body),\r\n    })\r\n  ).json();\r\n\r\n  if (data.status === 200) {\r\n    return (data.data as R);\r\n  } else {\r\n    throw new Error(data.msg);\r\n  }\r\n}\r\n","import { RadioChangeEvent } from \"antd\";\r\nimport React, { useState } from \"react\";\r\nimport { ParticipantProps } from \"../components/Participant\";\r\n\r\nexport default function useParticpant():ParticipantProps{\r\n  const [value,setValue]=useState(\"\");\r\n  const [name,setName]=useState('');\r\n  const [id,setId]=useState('');\r\n\r\n  const handleNameChange=(e:React.ChangeEvent<HTMLInputElement>)=>{\r\n    setName(e.target.value)\r\n  }\r\n\r\n  const handleIdChange=(e:React.ChangeEvent<HTMLInputElement>)=>{\r\n    setId(e.target.value)\r\n  }\r\n\r\n  const handleValueChange=(e:RadioChangeEvent)=>{\r\n    setValue(e.target.value)\r\n  }\r\n\r\n  return {\r\n    value,name,id,handleIdChange,handleNameChange,handleValueChange\r\n  }\r\n}","import { LoadingOutlined } from \"@ant-design/icons\";\r\nimport React from \"react\";\r\nimport \"./style.css\"\r\n\r\nexport default function Loading() {\r\n  return (\r\n    <div className=\"loading\">\r\n      <LoadingOutlined size={100} />\r\n      <div>数据加载中...</div>\r\n    </div>\r\n  );\r\n}\r\n","import { message } from \"antd\";\nimport React from \"react\";\nimport Buyer from \"../components/Buyer\";\nimport Options from \"../components/Options\";\nimport Participant from \"../components/Participant\";\nimport Summary from \"../components/Summary\";\nimport Ticket from \"../components/Ticket\";\nimport useBuyer from \"../hooks/useBuyer\";\nimport useCounter from \"../hooks/useCounter\";\nimport useFetch from \"../hooks/useFetch\";\nimport useParticpant from \"../hooks/useParticpant\";\nimport { Submit } from \"../interface/Submit\";\nimport \"./App.css\";\nimport Loading from \"./LoadingPage\";\nimport useApp from \"./useApp\";\n\nfunction App() {\n  const remoteProps = useCounter();\n  const sponsorProps = useCounter();\n  const standardProps = useCounter();\n\n  const buyerPorps = useBuyer();\n\n  const participantProps1 = useParticpant();\n  const participantProps2 = useParticpant();\n\n  const { initData, loading, price, sum } = useApp(\n    remoteProps.count,\n    sponsorProps.count,\n    standardProps.count\n  );\n\n  const handleSubmit = async () => {\n    message.loading({key:\"loading\",content:\"正在提交订单...\"})\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    await useFetch<any, Submit>({\n      url: \"/api/upload/\",\n      method: \"POST\",\n      body: {\n        remoteTicket: remoteProps.count,\n        sponsor: sponsorProps.count,\n        standardTicket: standardProps.count,\n        buyer: {\n          phoneNumber: buyerPorps.phoneNumber,\n          email: buyerPorps.email,\n        },\n        participant: [\n          {\n            name: participantProps1.name,\n            id: participantProps1.id,\n            gender: participantProps1.value,\n          },\n          {\n            name: participantProps2.name,\n            id: participantProps2.id,\n            gender: participantProps2.value,\n          },\n        ],\n      },\n    });\n    message.destroy(\"loading\");\n  };\n\n  const tickets = loading ? null : (\n    <div>\n      <Ticket\n        counterPorps={remoteProps}\n        title=\"远程支持票\"\n        des={initData?.remoteTicket.des}\n        price={initData?.remoteTicket.price}\n        tips={initData?.remoteTicket.tips}\n        split={true}\n      />\n      <Ticket\n        counterPorps={sponsorProps}\n        title=\"赞助商\"\n        des={initData?.sponsor.des}\n        price={initData?.sponsor.price}\n        tips={initData?.sponsor.tips}\n        split={true}\n      />\n      <Ticket\n        counterPorps={standardProps}\n        title=\"标准票\"\n        des={initData?.standardTicket.des}\n        price={initData?.standardTicket.price}\n        tips={initData?.standardTicket.tips}\n      />\n    </div>\n  );\n\n  if (loading) {\n    return <Loading />;\n  }\n\n  return (\n    <div className=\"App\">\n      <Options title=\"选择票种\" content={tickets} />\n      <Options title=\"购票人信息\" content={<Buyer {...buyerPorps} />} />\n      <Options\n        title=\"参与者信息（赞助商票第1位）\"\n        content={<Participant {...participantProps1} />}\n      />\n      <Options\n        title=\"参与者信息（赞助商票第2位）\"\n        content={<Participant {...participantProps2} />}\n      />\n      <Summary handleSubmit={handleSubmit} ticketNum={sum} price={price} />\n    </div>\n  );\n}\n\nexport default App;\n","import React, { useState } from \"react\";\r\nimport { BuyerPorps } from \"../components/Buyer\";\r\n\r\nexport default function useBuyer():BuyerPorps {\r\n  const [phoneNumber, setNumber] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n\r\n  const handleNumChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setNumber(e.target.value);\r\n  };\r\n\r\n  const handleEmailChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setEmail(e.target.value);\r\n  };\r\n\r\n  return {\r\n    phoneNumber,\r\n    email,\r\n    handleNumChange,\r\n    handleEmailChange,\r\n  };\r\n}\r\n","import { message } from \"antd\";\r\nimport { useCallback, useEffect, useState } from \"react\";\r\nimport useFetch from \"../hooks/useFetch\";\r\nimport Ticket from \"../interface/Ticket\";\r\n\r\nexport default function useApp(\r\n  reCount: number,\r\n  spCount: number,\r\n  stCount: number\r\n) {\r\n  const [initData, setData] = useState<Ticket>();\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const [price, setPrice] = useState<number>();\r\n  const [sum, setSum] = useState<number>();\r\n\r\n  const getData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      // eslint-disable-next-line react-hooks/rules-of-hooks\r\n      const data = await useFetch<Ticket>({\r\n        url: \"/api/data.json\",\r\n        method: \"GET\",\r\n      });\r\n\r\n      setData(data);\r\n      setLoading(false);\r\n    } catch (e: any) {\r\n      message.error(e.message);\r\n    } \r\n  };\r\n\r\n  useEffect(() => {\r\n    getData();\r\n  }, []);\r\n\r\n  useEffect(()=>{\r\n    handlePrice();\r\n  })\r\n\r\n  const handlePrice = useCallback(() => {\r\n    if (loading) {\r\n      return;\r\n    }\r\n\r\n    if (initData) {\r\n      const temp1 =\r\n        reCount * initData?.remoteTicket.price +\r\n        spCount * initData?.sponsor.price +\r\n        stCount * initData?.standardTicket.price;\r\n\r\n      const temp2 = reCount + spCount + stCount;\r\n\r\n      setPrice(temp1);\r\n      setSum(temp2);\r\n    }\r\n  }, [loading, reCount, initData, spCount, stCount]);\r\n\r\n  return {\r\n    initData,\r\n    loading,\r\n    price,\r\n    sum\r\n  };\r\n}\r\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\n\r\nexport interface ErrorBoundaryProps extends React.PropsWithChildren<{}> {\r\n  fallback: React.ReactNode;\r\n}\r\n\r\nexport default class ErrorBoundary extends React.Component<ErrorBoundaryProps> {\r\n  state = { error: false };\r\n  static getDerivedStateFromError() {\r\n    return { error: true };\r\n  }\r\n\r\n  render() {\r\n    const { fallback, children } = this.props;\r\n    return this.state.error ? fallback : children;\r\n  }\r\n}","import { FrownOutlined } from \"@ant-design/icons\";\r\nimport React from \"react\";\r\nimport \"./style.css\"\r\n\r\nexport default function ErrorPage(){\r\n  return <div className=\"error\">\r\n    <FrownOutlined size={100} />\r\n    <div>页面出错啦</div>\r\n  </div>\r\n}","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./views/App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport ErrorBoundary from \"./views/ErrorBoundary\";\nimport ErrorPage from \"./views/ErrorPage\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <ErrorBoundary fallback={<ErrorPage />}>\n      <App />\n    </ErrorBoundary>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}